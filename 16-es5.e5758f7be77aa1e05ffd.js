(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{W9vR:function(n,l,t){"use strict";t.r(l);var i=t("hjJQ"),e=function(){return function(){}}(),o=t("pMnS"),u=t("oBZk"),r=t("ZVFW"),s=t("0X4B"),a=t("J/JT"),c=t("0aFO"),b=t("rOct"),h=t("aR35"),p=t("SGxG"),d=t("6lhk"),f=t("gPUr"),g=function(){function n(n,l,t,i){this.wsService=n,this.modalController=l,this.navCtrl=t,this.loadingController=i,this.loadingDuration=60*h.a.settings.timeout*1e3,this.playlists=[]}return n.prototype.ngOnInit=function(){var n=this;this.wsService.callMB({action:"getPlaylist"}).subscribe(function(l){l.isSucc&&n.pushData(l)})},n.prototype.pushData=function(n){this.playlists=n},n.prototype.ionViewWillEnter=function(){},n.prototype.ionViewWillLeave=function(){null!=this.loading&&this.loading.dismiss()},n.prototype.ngOnDestroy=function(){null!=this.loading&&this.loading.dismiss()},n.prototype.initLoading=function(){return b.b(this,void 0,void 0,function(){var n;return b.e(this,function(l){switch(l.label){case 0:return n=this,[4,this.loadingController.create({duration:this.loadingDuration,message:"",translucent:!0,cssClass:"custom-class custom-loading"})];case 1:return n.loading=l.sent(),[2]}})})},n.prototype.showTracks=function(n){return b.b(this,void 0,void 0,function(){var l=this;return b.e(this,function(t){switch(t.label){case 0:return[4,this.initLoading()];case 1:return t.sent(),[4,this.loading.present()];case 2:return t.sent(),this.wsService.callMB({action:"playlistTracklist",playlistUrl:n.playlistUrl}).subscribe(function(t){l.loading.dismiss(),t.isSucc&&l.showTracksPage(t,n)}),[2]}})})},n.prototype.showTracksPage=function(n,l){return b.b(this,void 0,void 0,function(){var t,i=this;return b.e(this,function(e){switch(e.label){case 0:return[4,this.modalController.create({component:d.a,enterAnimation:f.c,leaveAnimation:f.d,componentProps:{title:l.name,fileUrl:"",tracks:n}})];case 1:return(t=e.sent()).onDidDismiss().then(function(n){n.data.hasError&&i.navCtrl.navigateBack("/login")}),[4,t.present()];case 2:return[2,e.sent()]}})})},n.prototype.doRefresh=function(n){return b.b(this,void 0,void 0,function(){var l=this;return b.e(this,function(t){switch(t.label){case 0:return[4,this.initLoading()];case 1:return t.sent(),[4,this.loading.present()];case 2:return t.sent(),this.wsService.callMB({action:"getPlaylist"}).subscribe(function(t){l.loading.dismiss(),n.target.complete(),t.isSucc&&l.pushData(t)}),[2]}})})},n.prototype.handleSbInput=function(n){var l=n.target.value.toLowerCase();requestAnimationFrame(function(){Array.from(document.querySelector("#il-playlist").children).forEach(function(n){var t=n.textContent.toLowerCase().indexOf(l)>-1;n.style.display=t?"block":"none"})})},n.prototype.refresh=function(){var n=this;this.wsService.callMB({action:"getPlaylist"}).subscribe(function(l){l.isSucc&&n.pushData(l)})},n.prototype.sbKeyup=function(n){return b.b(this,void 0,void 0,function(){return b.e(this,function(l){return"Enter"!=n.key?[2]:(n.target.blur(),[2])})})},n}(),m=i.rb({encapsulation:0,styles:[["ion-content[_ngcontent-%COMP%]{--ion-background-color:#fff}.header-toolbar[_ngcontent-%COMP%]{--border-width:0!important}.list-1[_ngcontent-%COMP%]{margin-top:0}.header-title[_ngcontent-%COMP%]{text-align:left;font-size:1.3rem;font-weight:700;margin-left:10px;color:#222}.search-bar[_ngcontent-%COMP%]{margin-top:10px}.playlist-icon[_ngcontent-%COMP%]{margin-right:8px}.item-title[_ngcontent-%COMP%]{color:#333}"]],data:{}});function v(n){return i.Ob(0,[(n()(),i.tb(0,0,null,null,5,"ion-item",[["button",""]],null,[[null,"click"]],function(n,l,t){var i=!0;return"click"===l&&(i=!1!==n.component.showTracks(n.context.$implicit)&&i),i},u.T,u.l)),i.sb(1,49152,null,0,r.I,[i.h,i.k,i.z],{button:[0,"button"]},null),(n()(),i.tb(2,0,null,0,0,"img",[["class","playlist-icon"],["src","assets/svg/playlist.svg"]],null,null,null,null,null)),(n()(),i.tb(3,0,null,0,2,"ion-label",[["class","item-title"]],null,null,null,u.U,u.m)),i.sb(4,49152,null,0,r.O,[i.h,i.k,i.z],null,null),(n()(),i.Mb(5,0,["",""]))],function(n,l){n(l,1,0,"")},function(n,l){n(l,5,0,l.context.$implicit.name)})}function y(n){return i.Ob(0,[(n()(),i.tb(0,0,null,null,11,"ion-header",[["mode","ios"]],null,null,null,u.Q,u.i)),i.sb(1,49152,null,0,r.C,[i.h,i.k,i.z],{mode:[0,"mode"]},null),(n()(),i.tb(2,0,null,0,9,"ion-toolbar",[["class","header-toolbar"]],null,null,null,u.pb,u.H)),i.sb(3,49152,null,0,r.Db,[i.h,i.k,i.z],null,null),(n()(),i.tb(4,0,null,0,2,"div",[["class","header-title"]],null,null,null,null,null)),(n()(),i.Mb(5,null,["",""])),i.Hb(131072,s.i,[s.j,i.h]),(n()(),i.tb(7,0,null,0,4,"ion-buttons",[["slot","end"]],null,null,null,u.L,u.d)),i.sb(8,49152,null,0,r.m,[i.h,i.k,i.z],null,null),(n()(),i.tb(9,0,null,0,2,"ion-button",[["color","danger"]],null,[[null,"click"]],function(n,l,t){var i=!0;return"click"===l&&(i=!1!==n.component.refresh()&&i),i},u.K,u.c)),i.sb(10,49152,null,0,r.l,[i.h,i.k,i.z],{color:[0,"color"]},null),(n()(),i.tb(11,0,null,0,0,"img",[["src","assets/svg/refresh.svg"]],null,null,null,null,null)),(n()(),i.tb(12,0,null,null,16,"ion-content",[],null,null,null,u.O,u.g)),i.sb(13,49152,null,0,r.v,[i.h,i.k,i.z],null,null),(n()(),i.tb(14,0,null,0,3,"ion-refresher",[["pullFactor","0.5"],["pullMax","200"],["pullMin","100"],["slot","fixed"]],null,[[null,"ionRefresh"]],function(n,l,t){var i=!0;return"ionRefresh"===l&&(i=!1!==n.component.doRefresh(t)&&i),i},u.bb,u.s)),i.sb(15,49152,null,0,r.eb,[i.h,i.k,i.z],{pullFactor:[0,"pullFactor"],pullMax:[1,"pullMax"],pullMin:[2,"pullMin"]},null),(n()(),i.tb(16,0,null,0,1,"ion-refresher-content",[],null,null,null,u.ab,u.t)),i.sb(17,49152,null,0,r.fb,[i.h,i.k,i.z],null,null),(n()(),i.tb(18,0,null,0,6,"ion-toolbar",[["class","search-bar"]],null,null,null,u.pb,u.H)),i.sb(19,49152,null,0,r.Db,[i.h,i.k,i.z],null,null),(n()(),i.tb(20,0,null,0,4,"ion-searchbar",[["id","sb-playlist"],["mode","ios"]],null,[[null,"ionChange"],[null,"keyup"],[null,"ionBlur"]],function(n,l,t){var e=!0,o=n.component;return"ionBlur"===l&&(e=!1!==i.Fb(n,24)._handleBlurEvent(t.target)&&e),"ionChange"===l&&(e=!1!==i.Fb(n,24)._handleInputEvent(t.target)&&e),"ionChange"===l&&(e=!1!==o.handleSbInput(t)&&e),"keyup"===l&&(e=!1!==o.sbKeyup(t)&&e),e},u.db,u.v)),i.Jb(5120,null,a.g,function(n){return[n]},[r.Qb]),i.sb(22,49152,null,0,r.lb,[i.h,i.k,i.z],{mode:[0,"mode"],placeholder:[1,"placeholder"]},null),i.Hb(131072,s.i,[s.j,i.h]),i.sb(24,16384,null,0,r.Qb,[i.k],null,null),(n()(),i.tb(25,0,null,0,3,"ion-list",[["class","list-1"],["id","il-playlist"],["lines","none"]],null,null,null,u.W,u.n)),i.sb(26,49152,null,0,r.P,[i.h,i.k,i.z],{lines:[0,"lines"]},null),(n()(),i.ib(16777216,null,0,1,null,v)),i.sb(28,278528,null,0,c.i,[i.O,i.L,i.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var t=l.component;n(l,1,0,"ios"),n(l,10,0,"danger"),n(l,15,0,"0.5","200","100"),n(l,22,0,"ios",i.xb(1,"",i.Nb(l,22,1,i.Fb(l,23).transform("common.search-placeholder")),"")),n(l,26,0,"none"),n(l,28,0,t.playlists)},function(n,l){n(l,5,0,i.Nb(l,5,0,i.Fb(l,6).transform("tab3.header")))})}function k(n){return i.Ob(0,[(n()(),i.tb(0,0,null,null,1,"app-tab3",[],null,null,null,y,m)),i.sb(1,245760,null,0,g,[p.a,r.Ib,r.Jb,r.Hb],null,null)],function(n,l){n(l,1,0)},null)}var w=i.pb("app-tab3",g,k,{},{},[]),D=t("1YCk");t.d(l,"Tab3PageModuleNgFactory",function(){return C});var C=i.qb(e,[],function(n){return i.Cb([i.Db(512,i.j,i.bb,[[8,[o.a,w]],[3,i.j],i.x]),i.Db(4608,c.l,c.k,[i.u,[2,c.v]]),i.Db(4608,r.c,r.c,[i.z,i.g]),i.Db(4608,r.Ib,r.Ib,[r.c,i.j,i.q]),i.Db(4608,r.Nb,r.Nb,[r.c,i.j,i.q]),i.Db(4608,a.o,a.o,[]),i.Db(1073742336,c.b,c.b,[]),i.Db(1073742336,r.Fb,r.Fb,[]),i.Db(1073742336,a.n,a.n,[]),i.Db(1073742336,a.d,a.d,[]),i.Db(1073742336,s.g,s.g,[]),i.Db(1073742336,D.o,D.o,[[2,D.t],[2,D.m]]),i.Db(1073742336,e,e,[]),i.Db(1024,D.k,function(){return[[{path:"",component:g}]]},[])])})}}]);