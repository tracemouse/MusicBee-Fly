(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{W9vR:function(l,n,t){"use strict";t.r(n);var i=t("8Y7J");class o{}var e=t("pMnS"),u=t("oBZk"),r=t("ZZ/e"),s=t("TSSN"),a=t("s7LF"),c=t("SVse"),b=t("mrSG"),h=t("aR35"),d=t("SGxG"),p=t("6lhk"),g=t("gPUr");class m{constructor(l,n,t,i){this.wsService=l,this.modalController=n,this.navCtrl=t,this.loadingController=i,this.loadingDuration=60*h.a.settings.timeout*1e3,this.playlists=[]}ngOnInit(){this.wsService.callMB({action:"getPlaylist"}).subscribe(l=>{l.isSucc&&this.pushData(l)})}pushData(l){this.playlists=l}ionViewWillEnter(){}ionViewWillLeave(){null!=this.loading&&this.loading.dismiss()}ngOnDestroy(){null!=this.loading&&this.loading.dismiss()}initLoading(){return b.b(this,void 0,void 0,function*(){this.loading=yield this.loadingController.create({duration:this.loadingDuration,message:"",translucent:!0,cssClass:"custom-class custom-loading"})})}showTracks(l){return b.b(this,void 0,void 0,function*(){yield this.initLoading(),yield this.loading.present(),this.wsService.callMB({action:"playlistTracklist",playlistUrl:l.playlistUrl}).subscribe(n=>{this.loading.dismiss(),n.isSucc&&this.showTracksPage(n,l)})})}showTracksPage(l,n){return b.b(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:p.a,enterAnimation:g.c,leaveAnimation:g.d,componentProps:{title:n.name,fileUrl:"",tracks:l}});return t.onDidDismiss().then(l=>{l.data.hasError&&this.navCtrl.navigateBack("/login")}),yield t.present()})}doRefresh(l){return b.b(this,void 0,void 0,function*(){yield this.initLoading(),yield this.loading.present(),this.wsService.callMB({action:"getPlaylist"}).subscribe(n=>{this.loading.dismiss(),l.target.complete(),n.isSucc&&this.pushData(n)})})}handleSbInput(l){const n=l.target.value.toLowerCase();requestAnimationFrame(()=>{Array.from(document.querySelector("#il-playlist").children).forEach(l=>{const t=l.textContent.toLowerCase().indexOf(n)>-1;l.style.display=t?"block":"none"})})}refresh(){this.wsService.callMB({action:"getPlaylist"}).subscribe(l=>{l.isSucc&&this.pushData(l)})}sbKeyup(l){return b.b(this,void 0,void 0,function*(){"Enter"==l.key&&l.target.blur()})}}var f=i.pb({encapsulation:0,styles:[["ion-content[_ngcontent-%COMP%]{--ion-background-color:#fff}.header-toolbar[_ngcontent-%COMP%]{--border-width:0!important}.list-1[_ngcontent-%COMP%]{margin-top:0}.header-title[_ngcontent-%COMP%]{text-align:left;font-size:1.3rem;font-weight:700;margin-left:10px;color:#222}.search-bar[_ngcontent-%COMP%]{margin-top:10px}.playlist-icon[_ngcontent-%COMP%]{margin-right:8px}.item-title[_ngcontent-%COMP%]{color:#333}"]],data:{}});function v(l){return i.Mb(0,[(l()(),i.rb(0,0,null,null,5,"ion-item",[["button",""]],null,[[null,"click"]],function(l,n,t){var i=!0;return"click"===n&&(i=!1!==l.component.showTracks(l.context.$implicit)&&i),i},u.U,u.l)),i.qb(1,49152,null,0,r.H,[i.h,i.k,i.x],{button:[0,"button"]},null),(l()(),i.rb(2,0,null,0,0,"img",[["class","playlist-icon"],["src","assets/svg/playlist.svg"]],null,null,null,null,null)),(l()(),i.rb(3,0,null,0,2,"ion-label",[["class","item-title"]],null,null,null,u.V,u.m)),i.qb(4,49152,null,0,r.N,[i.h,i.k,i.x],null,null),(l()(),i.Kb(5,0,["",""]))],function(l,n){l(n,1,0,"")},function(l,n){l(n,5,0,n.context.$implicit.name)})}function k(l){return i.Mb(0,[(l()(),i.rb(0,0,null,null,11,"ion-header",[["mode","ios"]],null,null,null,u.R,u.i)),i.qb(1,49152,null,0,r.B,[i.h,i.k,i.x],{mode:[0,"mode"]},null),(l()(),i.rb(2,0,null,0,9,"ion-toolbar",[["class","header-toolbar"]],null,null,null,u.rb,u.I)),i.qb(3,49152,null,0,r.Bb,[i.h,i.k,i.x],null,null),(l()(),i.rb(4,0,null,0,2,"div",[["class","header-title"]],null,null,null,null,null)),(l()(),i.Kb(5,null,["",""])),i.Fb(131072,s.i,[s.j,i.h]),(l()(),i.rb(7,0,null,0,4,"ion-buttons",[["slot","end"]],null,null,null,u.M,u.d)),i.qb(8,49152,null,0,r.l,[i.h,i.k,i.x],null,null),(l()(),i.rb(9,0,null,0,2,"ion-button",[["color","danger"]],null,[[null,"click"]],function(l,n,t){var i=!0;return"click"===n&&(i=!1!==l.component.refresh()&&i),i},u.L,u.c)),i.qb(10,49152,null,0,r.k,[i.h,i.k,i.x],{color:[0,"color"]},null),(l()(),i.rb(11,0,null,0,0,"img",[["src","assets/svg/refresh.svg"]],null,null,null,null,null)),(l()(),i.rb(12,0,null,null,16,"ion-content",[],null,null,null,u.P,u.g)),i.qb(13,49152,null,0,r.u,[i.h,i.k,i.x],null,null),(l()(),i.rb(14,0,null,0,3,"ion-refresher",[["pullFactor","0.5"],["pullMax","200"],["pullMin","100"],["slot","fixed"]],null,[[null,"ionRefresh"]],function(l,n,t){var i=!0;return"ionRefresh"===n&&(i=!1!==l.component.doRefresh(t)&&i),i},u.cb,u.s)),i.qb(15,49152,null,0,r.cb,[i.h,i.k,i.x],{pullFactor:[0,"pullFactor"],pullMax:[1,"pullMax"],pullMin:[2,"pullMin"]},null),(l()(),i.rb(16,0,null,0,1,"ion-refresher-content",[],null,null,null,u.bb,u.t)),i.qb(17,49152,null,0,r.db,[i.h,i.k,i.x],null,null),(l()(),i.rb(18,0,null,0,6,"ion-toolbar",[["class","search-bar"]],null,null,null,u.rb,u.I)),i.qb(19,49152,null,0,r.Bb,[i.h,i.k,i.x],null,null),(l()(),i.rb(20,0,null,0,4,"ion-searchbar",[["id","sb-playlist"],["mode","ios"]],null,[[null,"ionChange"],[null,"keyup"],[null,"ionBlur"]],function(l,n,t){var o=!0,e=l.component;return"ionBlur"===n&&(o=!1!==i.Db(l,24)._handleBlurEvent(t.target)&&o),"ionChange"===n&&(o=!1!==i.Db(l,24)._handleInputEvent(t.target)&&o),"ionChange"===n&&(o=!1!==e.handleSbInput(t)&&o),"keyup"===n&&(o=!1!==e.sbKeyup(t)&&o),o},u.eb,u.v)),i.Hb(5120,null,a.g,function(l){return[l]},[r.Ob]),i.qb(22,49152,null,0,r.jb,[i.h,i.k,i.x],{mode:[0,"mode"],placeholder:[1,"placeholder"]},null),i.Fb(131072,s.i,[s.j,i.h]),i.qb(24,16384,null,0,r.Ob,[i.k],null,null),(l()(),i.rb(25,0,null,0,3,"ion-list",[["class","list-1"],["id","il-playlist"],["lines","none"]],null,null,null,u.X,u.n)),i.qb(26,49152,null,0,r.O,[i.h,i.k,i.x],{lines:[0,"lines"]},null),(l()(),i.gb(16777216,null,0,1,null,v)),i.qb(28,278528,null,0,c.i,[i.M,i.J,i.q],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var t=n.component;l(n,1,0,"ios"),l(n,10,0,"danger"),l(n,15,0,"0.5","200","100"),l(n,22,0,"ios",i.vb(1,"",i.Lb(n,22,1,i.Db(n,23).transform("common.search-placeholder")),"")),l(n,26,0,"none"),l(n,28,0,t.playlists)},function(l,n){l(n,5,0,i.Lb(n,5,0,i.Db(n,6).transform("tab3.header")))})}function y(l){return i.Mb(0,[(l()(),i.rb(0,0,null,null,1,"app-tab3",[],null,null,null,k,f)),i.qb(1,245760,null,0,m,[d.a,r.Gb,r.Hb,r.Fb],null,null)],function(l,n){l(n,1,0)},null)}var x=i.nb("app-tab3",m,y,{},{},[]),B=t("iInd");t.d(n,"Tab3PageModuleNgFactory",function(){return M});var M=i.ob(o,[],function(l){return i.Ab([i.Bb(512,i.j,i.Z,[[8,[e.a,x]],[3,i.j],i.v]),i.Bb(4608,c.l,c.k,[i.s,[2,c.v]]),i.Bb(4608,r.c,r.c,[i.x,i.g]),i.Bb(4608,r.Gb,r.Gb,[r.c,i.j,i.p]),i.Bb(4608,r.Lb,r.Lb,[r.c,i.j,i.p]),i.Bb(4608,a.o,a.o,[]),i.Bb(1073742336,c.b,c.b,[]),i.Bb(1073742336,r.Db,r.Db,[]),i.Bb(1073742336,a.n,a.n,[]),i.Bb(1073742336,a.d,a.d,[]),i.Bb(1073742336,s.g,s.g,[]),i.Bb(1073742336,B.o,B.o,[[2,B.t],[2,B.m]]),i.Bb(1073742336,o,o,[]),i.Bb(1024,B.k,function(){return[[{path:"",component:m}]]},[])])})}}]);